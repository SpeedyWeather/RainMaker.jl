<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Instructions · RainMaker.jl</title><meta name="title" content="Instructions · RainMaker.jl"/><meta property="og:title" content="Instructions · RainMaker.jl"/><meta property="twitter:title" content="Instructions · RainMaker.jl"/><meta name="description" content="Documentation for RainMaker.jl."/><meta property="og:description" content="Documentation for RainMaker.jl."/><meta property="twitter:description" content="Documentation for RainMaker.jl."/><meta property="og:url" content="https://speedyweather.github.io/RainMaker.jl/instructions/"/><meta property="twitter:url" content="https://speedyweather.github.io/RainMaker.jl/instructions/"/><link rel="canonical" href="https://speedyweather.github.io/RainMaker.jl/instructions/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RainMaker.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../new_to_julia/">New to Julia?</a></li><li><a class="tocitem" href="../rain_gauge/">RainGauge</a></li><li><span class="tocitem">RainMaker challenge</span><ul><li class="is-active"><a class="tocitem" href>Instructions</a><ul class="internal"><li><a class="tocitem" href="#General-workflow-to-run-SpeedyWeather"><span>General workflow to run SpeedyWeather</span></a></li><li><a class="tocitem" href="#Change-the-resolution"><span>Change the resolution</span></a></li><li><a class="tocitem" href="#Change-the-grid"><span>Change the grid</span></a></li><li><a class="tocitem" href="#Change-the-time-step"><span>Change the time step</span></a></li><li><a class="tocitem" href="#Change-the-season"><span>Change the season</span></a></li><li><a class="tocitem" href="#Change-the-orography"><span>Change the orography</span></a></li><li><a class="tocitem" href="#Change-the-land-sea-mask"><span>Change the land-sea mask</span></a></li><li><a class="tocitem" href="#Change-the-surface-temperatures"><span>Change the surface temperatures</span></a></li><li><a class="tocitem" href="#Change-the-initial-conditions"><span>Change the initial conditions</span></a></li></ul></li><li><a class="tocitem" href="../submit/">Submit</a></li><li><a class="tocitem" href="../leaderboard/">Leaderboard</a></li><li><a class="tocitem" href="../submissions/">List of submissions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">RainMaker challenge</a></li><li class="is-active"><a href>Instructions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Instructions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/RainMaker.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/RainMaker.jl/blob/main/docs/src/instructions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="RainMaker-instructions"><a class="docs-heading-anchor" href="#RainMaker-instructions">RainMaker instructions</a><a id="RainMaker-instructions-1"></a><a class="docs-heading-anchor-permalink" href="#RainMaker-instructions" title="Permalink"></a></h1><p>While the <a href="../submissions/#List-of-submissions">List of submissions</a> gives you some idea of what you can do make it rain more or less in a SpeedyWeather simulation, the following provides more instructions and serves as an introduction to atmospheric modelling with SpeedyWeather.</p><p>You can analyse precipitation as a time series (<a href="../rain_gauge/#Visualising-RainGauge-measurements">Visualising RainGauge measurements</a>) or as a global map accumulated during the simulation (<a href="../rain_gauge/#Visualising-accumulated-rainfall-globally">Visualising accumulated rainfall globally</a>).</p><h2 id="General-workflow-to-run-SpeedyWeather"><a class="docs-heading-anchor" href="#General-workflow-to-run-SpeedyWeather">General workflow to run SpeedyWeather</a><a id="General-workflow-to-run-SpeedyWeather-1"></a><a class="docs-heading-anchor-permalink" href="#General-workflow-to-run-SpeedyWeather" title="Permalink"></a></h2><p>There&#39;s more information in the <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/how_to_run_speedy/">SpeedyWeather documentation</a> but in short there are 4 steps</p><pre><code class="language-julia hljs">using SpeedyWeather

# 1. define the resolution
spectral_grid = SpectralGrid(trunc=31, nlayers=8)

# 2. create a model
model = PrimitiveWetModel(spectral_grid)

# 3. initialize the model
simulation = initialize!(model)

# 4. run the model
run!(simulation, period=Day(10))</code></pre><p>You can add a <a href="../rain_gauge/#RainGauge">RainGauge</a> to measure precipitation, but the following will focus on ways you can change the model, impacting what&#39;s been simulated. They may or may not have a large impact on the simulated precipitation but that is up to you to figure out.</p><h2 id="Change-the-resolution"><a class="docs-heading-anchor" href="#Change-the-resolution">Change the resolution</a><a id="Change-the-resolution-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-resolution" title="Permalink"></a></h2><p>SpeedyWeather is a spectral model. That means it internally represents its variables as coefficients of horizontal waves on the sphere (the <a href="https://en.wikipedia.org/wiki/Spherical_harmonics"><em>spherical harmonics</em></a>) up to a certain maximum wavenumber that is usually referred to as <em>truncation</em>. So for a truncation of 31, SpeedyWeather would resolve wavenumbers 0 to 31, but not 32 and larger. The higher the truncation the higher the resolution  and automatically chosen higher resolution of the grid. You control the resolution through the keyword argument <code>trunc</code> of the <code>SpectralGrid</code> object that defines the resolution of a simulation</p><pre><code class="language-julia hljs">using SpeedyWeather
spectral_grid =  SpectralGrid(trunc=42)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SpectralGrid:
├ Spectral:   T42 LowerTriangularMatrix{Complex{Float32}}, radius = 6.371e6 m
├ Grid:       64-ring OctahedralGaussianGrid{Float32}, 5248 grid points
├ Resolution: 312km (average)
├ Vertical:   8-layer SigmaCoordinates
└ Device:     CPU using Array</code></pre><p>Now change <code>trunc</code> (e.g. 31, 42, 63, 85, 127) and check what happens to precipitation when you run a simulation at that resolution. You can also change the number of vertical layers with the keyword argument <code>nlayers</code>, e.g.</p><pre><code class="language-julia hljs">spectral_grid =  SpectralGrid(trunc=31, nlayers=5)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SpectralGrid:
├ Spectral:   T31 LowerTriangularMatrix{Complex{Float32}}, radius = 6.371e6 m
├ Grid:       48-ring OctahedralGaussianGrid{Float32}, 3168 grid points
├ Resolution: 401km (average)
├ Vertical:   5-layer SigmaCoordinates
└ Device:     CPU using Array</code></pre><p>Note however, that too many vertical layers can make the model unstable because of the (simpler) vertical advection that is used. This is not the place to elaborate on that, but just to warn you that <code>nlayers=100</code> is unlikely to &quot;just work&quot;. Try to find out more generally, with changing <code>trunc</code> and <code>nlayers</code></p><ul><li>How does the grid spacing change?</li><li>How does the speed of the simulation change?</li></ul><p>Bonus question</p><ul><li>Why 31, 42, 63, ... as given above? For more details see <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/spectral_transform/#Available-horizontal-resolutions">Available horizontal resolutions</a> and <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/grids/#Matching-spectral-and-grid-resolution">Matching spectral and grid resolution</a></li><li>How are the vertical layers spaced? Check <code>spectral_grid.vertical_coordinates</code> and read on <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/primitiveequation/#Sigma-coordinates">Sigma coordinates</a></li></ul><h2 id="Change-the-grid"><a class="docs-heading-anchor" href="#Change-the-grid">Change the grid</a><a id="Change-the-grid-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-grid" title="Permalink"></a></h2><p>While SpeedyWeather is a spectral model not all computations are done in spectral space, many are still done in grid space. That&#39;s why people often call this method also <em>pseudo</em>-spectral. You can control the grid through the argument <code>Grid</code></p><pre><code class="language-julia hljs">spectral_grid =  SpectralGrid(trunc=31, Grid=FullGaussianGrid)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SpectralGrid:
├ Spectral:   T31 LowerTriangularMatrix{Complex{Float32}}, radius = 6.371e6 m
├ Grid:       48-ring FullGaussianGrid{Float32}, 4608 grid points
├ Resolution: 333km (average)
├ Vertical:   8-layer SigmaCoordinates
└ Device:     CPU using Array</code></pre><p>Try <code>FullGaussianGrid</code>, <code>FullClenshawGrid</code>, <code>OctahedralGaussianGrid</code>, or <code>HEALPixGrid</code> among <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/grids/">others</a>. Do they have any impact on the simulated precipitation? More generally</p><ul><li>Which grids have more, which fewer (horizontal) grid points at a given <code>trunc</code>?</li><li>On each grid, are the grid cells globally of similar size or not?</li><li><a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/grids/#Interactively-exploring-the-grids">Visualise</a> the grids!</li></ul><p>Bonus question</p><ul><li>A higher/lower <code>dealiasing</code> increases/decreases the grid resolution without changes the spectral resolution. Why would one do that?</li></ul><h2 id="Change-the-time-step"><a class="docs-heading-anchor" href="#Change-the-time-step">Change the time step</a><a id="Change-the-time-step-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-time-step" title="Permalink"></a></h2><p>The time step of SpeedyWeather is controlled through the time stepping method of the model. This model component needs to know the spatial resolution to pick a time step by default that is stable, but you can still control this. SpeedyWeather&#39;s time integration is based on the <code>Leapfrog</code> scheme, so you create such a component like this</p><pre><code class="language-julia hljs">time_stepping = Leapfrog(spectral_grid, Δt_at_T31=Minute(20))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Leapfrog{Float32} &lt;: SpeedyWeather.AbstractTimeStepper
├ trunc::Int64 = 31
├ nsteps::Int64 = 2
├ Δt_at_T31::Second = 1200 seconds
├ radius::Float32 = 6.371e6
├ adjust_with_output::Bool = true
├ robert_filter::Float32 = 0.1
├ williams_filter::Float32 = 0.53
├ Δt_millisec::Millisecond = 1200000 milliseconds
├ Δt_sec::Float32 = 1200.0
└ Δt::Float32 = 0.00018835347</code></pre><p>where the argument <code>Δt_at_T31</code> determines the timestep <code>Δt</code> (write <code>\Delta</code> then hit tab) relative to a truncation of 31 (called T31), the actual time step is then in <code>Δt_sec</code>, scaled linearly from T31 to whatever resolution you chose. You can provide any <code>Second</code>, <code>Minute</code>, <code>Hour</code> (but note that there is a stability limit above which your simulation quickly blows up). But do not forget to also pass this component to the model constructor, i.e.</p><pre><code class="language-julia hljs">model = PrimitiveWetModel(spectral_grid; time_stepping)</code></pre><p>where <code>; time_stepping</code> matches a keyword argument <code>time_stepping</code> with the variable of the same name. This is equivalent to <code>, time_stepping=time_stepping</code>.</p><ul><li>How large a time step can you choose for a T31 resolution?</li><li>How does the speed or simulation time change with a changed time step?</li></ul><p>Bonus question</p><ul><li>How do you choose a sensible time step?</li></ul><h2 id="Change-the-season"><a class="docs-heading-anchor" href="#Change-the-season">Change the season</a><a id="Change-the-season-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-season" title="Permalink"></a></h2><p>Some boundary conditions of SpeedyWeather depend by default on the time of the year, these are</p><ul><li>sea and land surface temperatures</li><li>soil moisture</li></ul><p>changing the start time of your simulation therefore will have an impact on precipitation. At the moment no boundary conditions change with the year. You can change this start time when the model is initialized, i.e.</p><pre><code class="language-julia hljs">simulation = initialize!(model, time=DateTime(2000, 8, 1))
simulation.prognostic_variables.clock</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Clock
├ time::DateTime = 2000-08-01T00:00:00
├ start::DateTime = 2000-08-01T00:00:00
├ period::Second = 0 seconds
├ timestep_counter::Int64 = 0
├ n_timesteps::Int64 = 0
└ Δt::Millisecond = 0 milliseconds</code></pre><p>With the last line you can inspect the <code>clock</code> object that keeps track of time.</p><ul><li>Why would precipitation be higher or lower in different seasons?</li></ul><h2 id="Change-the-orography"><a class="docs-heading-anchor" href="#Change-the-orography">Change the orography</a><a id="Change-the-orography-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-orography" title="Permalink"></a></h2><p>You can change the orography in several different ways, the most convenient is probably using the <code>set!</code> function with anonymous functions <code>(λ,φ) -&gt; ...</code> of longitude <span>$\lambda$</span> and latitude <span>$\varphi$</span> as outlined <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/orography/#Changing-orography-manually">here</a>. In brief, <em>after</em> model initialization (otherwise orography would also be initialized, overwriting your changes)</p><pre><code class="language-julia hljs"># set to a global constant
set!(model, orography=0)

# add two 2000m ridges at +-30˚E from 60˚S to 60˚N
H, λ₀, φmax = 2000, 15, 60
set!(model, orography=(λ,φ) -&gt; 2λ₀ &lt; λ &lt; 360-2λ₀ || abs(φ) &gt; φmax ? 0 : H*sind(180*λ/2λ₀)^2)

# add a zonal ridge between 60˚E and 300˚E
set!(model, orography=(λ,φ) -&gt; λ &gt; 4λ₀ &amp;&amp; λ &lt; 360-4λ₀ &amp;&amp; abs(φ) &lt; 20 ? H*cosd(3φ)^2 : 0, add=true)

# add two Gaussian mountains
λ1, λ2  = (120, 240)    # longitude positions [˚E]
φ₀ = 45                 # latitude [˚N]
σ = 5                   # width [˚]

# first mountain, radius=360/2π to have distance in ˚ again (not meters)
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ1,φ₀), radius=360/2π)^2/2σ^2), add=true)

# and add second
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ2,φ₀), radius=360/2π)^2/2σ^2), add=true)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">true</code></pre><p>Whatever orography you construct, you can always check it with</p><pre><code class="language-julia hljs">using CairoMakie
heatmap(model.orography.orography, title=&quot;Orography [m]: Is it supposed to be a smiley?&quot;)</code></pre><p><img src="../smiley.png" alt="Orography"/></p><h2 id="Change-the-land-sea-mask"><a class="docs-heading-anchor" href="#Change-the-land-sea-mask">Change the land-sea mask</a><a id="Change-the-land-sea-mask-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-land-sea-mask" title="Permalink"></a></h2><p>Similar to the orography you can change the land-sea mask. Find some more details <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/land_sea_mask/">here</a>. Note that the land-sea mask does not have to agree with the orography, yes you can put an ocean on the top of Mount Everest! However, surface fluxes over land (as determined by the land-sea mask) are zero if the respective surface fields are NaN there. Meaning if you want to put an ocean on the top of Mount Everest you also will need to define the sea surface temperature there.</p><p>For example, we could flood the southern hemisphere with</p><pre><code class="language-julia hljs"># this will be automatically clamped back into [0, 1]
set!(model, land_sea_mask=(λ, φ) -&gt; φ &lt; 0 ? -1 : 0, add=true)

heatmap(model.land_sea_mask.mask, title=&quot;Land-sea mask with a southern hemisphere ocean&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>Land-sea mask was not set to values in [0, 1] but in [-1.0, 1.0]. Clamping.
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ SpeedyWeather ~/.julia/packages/SpeedyWeather/pliqj/src/physics/land_sea_mask.jl:70</span></code></pre><p><img src="../sh_ocean.png" alt="SH Ocean"/></p><h2 id="Change-the-surface-temperatures"><a class="docs-heading-anchor" href="#Change-the-surface-temperatures">Change the surface temperatures</a><a id="Change-the-surface-temperatures-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-surface-temperatures" title="Permalink"></a></h2><p>By default, SpeedyWeather uses seasonally changing sea and land surface temperature coming from climatology, you can check this with</p><pre><code class="language-julia hljs">model.ocean</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SeasonalOceanClimatology{Float32, FullGaussianGrid{Float32}} &lt;: AbstractOcean
├ nlat_half::Int64 = 24
├ path::String = SpeedyWeather.jl/input_data
├ file::String = sea_surface_temperature.nc
├ varname::String = sst
├ file_Grid::UnionAll = FullGaussianGrid
├ missing_value::Float32 = NaN
└── arrays: monthly_temperature</code></pre><p>and for land</p><pre><code class="language-julia hljs">model.land</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">SeasonalLandTemperature{Float32, FullGaussianGrid{Float32}} &lt;: AbstractLand
├ nlat_half::Int64 = 24
├ path::String = SpeedyWeather.jl/input_data
├ file::String = land_surface_temperature.nc
├ varname::String = lst
├ file_Grid::UnionAll = FullGaussianGrid
├ missing_value::Float32 = NaN
└── arrays: monthly_temperature</code></pre><p>while you can use <code>set!(simulation, sea_surface_temperature=...)</code> to tweak the sea surface temperature (and similar for <code>land_surface_temperature</code>. both in Kelvin) as long as the <code>model.ocean</code> and <code>model.land</code> are set to seasonally changing your efforts will be quickly overwritten in the next time step as the &quot;ocean model&quot; and the &quot;land model&quot; component of SpeedyWeather evolve following the seasonal cycle. For a 20-day simulation these changes are not big, but mean you need to switch off that seasonal cycle and use constant temperatures instead. You do this with</p><pre><code class="language-julia hljs">ocean = AquaPlanet(spectral_grid)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">AquaPlanet{Float32} &lt;: AbstractOcean
├ temp_equator::Float32 = 302.0
└ temp_poles::Float32 = 273.0</code></pre><p>and </p><pre><code class="language-julia hljs">land = ConstantLandTemperature(spectral_grid)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">ConstantLandTemperature{Float32} &lt;: AbstractLand
└ temperature::Float32 = 285.0</code></pre><p>which you can then pass on to the model constructor</p><pre><code class="language-julia hljs">model = PrimitiveWetModel(spectral_grid; ocean, land)</code></pre><p>Now you have basically &quot;frozen&quot; the sea and land surface temperature in time, meaning you can tweak them with <code>set!</code> as before. For example, we could add a 2K in the &quot;North Atlantic&quot; with</p><pre><code class="language-julia hljs">simulation = initialize!(model)
set!(model, land_sea_mask=0)    # all ocean!
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (30 &lt; φ &lt; 60) &amp;&amp; (270 &lt; λ &lt; 360) ? 2 : 0, add=true)

sst = simulation.prognostic_variables.ocean.sea_surface_temperature
heatmap(sst, title=&quot;SST with +2K in North Atlantic&quot;)</code></pre><p><img src="../sst_2K.png" alt="SST +2K"/></p><p>and similar for the <code>land_surface_temperature</code> in which case you would need to set the land-sea mask to 1 though, otherwise, while the land surface temperature is defined, there is not any land!</p><h2 id="Change-the-initial-conditions"><a class="docs-heading-anchor" href="#Change-the-initial-conditions">Change the initial conditions</a><a id="Change-the-initial-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-initial-conditions" title="Permalink"></a></h2><p>Changing the initial conditions is somewhat more advanced but gives you way more options is therefore added here in case you want to be creative. But you can also use it to create an ensemble by simply adding some small random noise and check how quickly the trajectories diverge (butterfly effect) or check whether in any member it rains more or less. The prognostic variables are</p><ul><li>relative vorticity <code>vor</code> units of 1/s, typical values are 5 to 10e-5 for high and low pressure (which sign is which?) systems</li><li>divergence <code>div</code>, units of 1/s, similar scale</li><li>temperature <code>temp</code>, units of K</li><li>logarithm of surface pressure <code>pres</code> in units of Pascal, with typical values of 960-1040hPa before the logarithm</li><li>humidity <code>humid</code>, units of kg/kg, tropical surface values reach order of 10 g/kg.</li></ul><p>You can set them with</p><pre><code class="language-julia hljs">set!(simulation, humid=0)</code></pre><p>to start with a dry atmosphere for example (how long does it take to rain when you do that?). You can use the same <code>set!</code> options as before, so maybe you can figure out</p><ul><li>how to add a storm?</li><li>how to start in a heatwave?</li></ul><p>Some more information on setting the initial conditions can be found <a href="https://speedyweather.github.io/SpeedyWeather.jl/dev/initial_conditions/">here</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../rain_gauge/">« RainGauge</a><a class="docs-footer-nextpage" href="../submit/">Submit »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Friday 10 January 2025 04:15">Friday 10 January 2025</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
