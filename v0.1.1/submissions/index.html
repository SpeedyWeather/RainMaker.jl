<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>List of submissions · RainMaker.jl</title><meta name="title" content="List of submissions · RainMaker.jl"/><meta property="og:title" content="List of submissions · RainMaker.jl"/><meta property="twitter:title" content="List of submissions · RainMaker.jl"/><meta name="description" content="Documentation for RainMaker.jl."/><meta property="og:description" content="Documentation for RainMaker.jl."/><meta property="twitter:description" content="Documentation for RainMaker.jl."/><meta property="og:url" content="https://speedyweather.github.io/RainMaker.jl/submissions/"/><meta property="twitter:url" content="https://speedyweather.github.io/RainMaker.jl/submissions/"/><link rel="canonical" href="https://speedyweather.github.io/RainMaker.jl/submissions/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RainMaker.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../new_to_julia/">New to Julia?</a></li><li><a class="tocitem" href="../rain_gauge/">RainGauge</a></li><li><span class="tocitem">RainMaker challenge</span><ul><li><a class="tocitem" href="../instructions/">Instructions</a></li><li><a class="tocitem" href="../submit/">Submit</a></li><li><a class="tocitem" href="../leaderboard/">Leaderboard</a></li><li class="is-active"><a class="tocitem" href>List of submissions</a><ul class="internal"><li><a class="tocitem" href="#Charlotte-Merchant:-The-Rapture:-Big-Super-Mega-Ultra-Clapped-Humid-North-Sea-Mountain-HR-Injection-Under-More-Pressure-Initially-and-Corrected"><span>Charlotte Merchant: The Rapture: Big Super Mega Ultra Clapped Humid North Sea Mountain HR Injection Under More Pressure Initially and Corrected</span></a></li><li><a class="tocitem" href="#Danny-Ash,-Jowan-Fromentin-Brain-Drain:-Rain-Rain-go-away"><span>Danny Ash, Jowan Fromentin - Brain Drain: Rain Rain go away</span></a></li><li><a class="tocitem" href="#Amy-and-breddy:-Reddy4rain"><span>Amy and breddy: Reddy4rain</span></a></li><li><a class="tocitem" href="#Isaac-Campbell:-Up-initial-humidity-and-lower-saturation-vapour-pressure."><span>Isaac Campbell: Up initial humidity and lower saturation vapour pressure.</span></a></li><li><a class="tocitem" href="#Alex-Dobra-and-Charlotte-Wargniez:-Aqua-planet,-change-humidity-to-ridiculous-number,-add-Shirin&#39;s-mountain,-make-it-cold"><span>Alex Dobra and Charlotte Wargniez: Aqua planet, change humidity to ridiculous number, add Shirin&#39;s mountain, make it cold</span></a></li><li><a class="tocitem" href="#Minqi:-humid-and-montain"><span>Minqi: humid &amp; montain</span></a></li><li><a class="tocitem" href="#Maren:-Hot-aqua-planet-with-SST-anomalie"><span>Maren: Hot aqua planet with SST anomalie</span></a></li><li><a class="tocitem" href="#George:-default"><span>George: default</span></a></li><li><a class="tocitem" href="#Thomas-Stone:-Humid"><span>Thomas Stone: Humid</span></a></li><li><a class="tocitem" href="#Bradley-and-Lukas:-big-humid"><span>Bradley and Lukas: big humid</span></a></li><li><a class="tocitem" href="#Jordan:-Up-initial-humidity-and-lower-saturation-vapour-pressure."><span>Jordan: Up initial humidity and lower saturation vapour pressure.</span></a></li><li><a class="tocitem" href="#Shirin-Ermis:-Aqua-planet-simulation-with-a-mountain"><span>Shirin Ermis: Aqua-planet simulation with a mountain</span></a></li><li><a class="tocitem" href="#Tim-Reichelt:-North-Sea-mountain"><span>Tim Reichelt: North Sea mountain</span></a></li><li><a class="tocitem" href="#Milan:-default"><span>Milan: default</span></a></li><li><a class="tocitem" href="#Milan:-Aquaplanet"><span>Milan: Aquaplanet</span></a></li><li><a class="tocitem" href="#Milan:-Atlantic-mountain"><span>Milan: Atlantic mountain</span></a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">RainMaker challenge</a></li><li class="is-active"><a href>List of submissions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>List of submissions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/RainMaker.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SpeedyWeather/RainMaker.jl/blob/main/docs/src/submissions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="List-of-submissions"><a class="docs-heading-anchor" href="#List-of-submissions">List of submissions</a><a id="List-of-submissions-1"></a><a class="docs-heading-anchor-permalink" href="#List-of-submissions" title="Permalink"></a></h1><p>It follows the code and plot of the <code>RainGauge</code> of all RainMaker submissions to <a href="https://github.com/SpeedyWeather/RainMaker.jl/tree/main/submissions">/submissions</a> sorted in alphabetical order of the filename.</p><h2 id="Charlotte-Merchant:-The-Rapture:-Big-Super-Mega-Ultra-Clapped-Humid-North-Sea-Mountain-HR-Injection-Under-More-Pressure-Initially-and-Corrected"><a class="docs-heading-anchor" href="#Charlotte-Merchant:-The-Rapture:-Big-Super-Mega-Ultra-Clapped-Humid-North-Sea-Mountain-HR-Injection-Under-More-Pressure-Initially-and-Corrected">Charlotte Merchant: The Rapture: Big Super Mega Ultra Clapped Humid North Sea Mountain HR Injection Under More Pressure Initially and Corrected</a><a id="Charlotte-Merchant:-The-Rapture:-Big-Super-Mega-Ultra-Clapped-Humid-North-Sea-Mountain-HR-Injection-Under-More-Pressure-Initially-and-Corrected-1"></a><a class="docs-heading-anchor-permalink" href="#Charlotte-Merchant:-The-Rapture:-Big-Super-Mega-Ultra-Clapped-Humid-North-Sea-Mountain-HR-Injection-Under-More-Pressure-Initially-and-Corrected" title="Permalink"></a></h2><p>path: <code>/submissions/the_rapture.jl</code></p><p>rank: 1. of 16 submissions</p><pre><code class="language-julia hljs"># 1. All precipitation measured by the rain gauge has to be simulated by SpeedyWeather over a 20-day period.
# 2. The rain gauge must be placed at the agreed longitude and latitude coordinates.
# 3. No changes to the following physics inside SpeedyWeather: Large-scale condensation, convection, surface evaporation, or radiation.
# 4. Sea and land surface temperatures cannot exceed 305K anywhere during the simulation.
# 5. The simulation must remain stable over the 20-day period.
author = &quot;Charlotte Merchant&quot;
description = &quot;The Rapture: Big Super Mega Ultra Clapped Humid North Sea Mountain HR Injection Under More Pressure Initially and Corrected&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=100, nlayers=8)
atm = EarthAtmosphere(spectral_grid)
clausius_clapeyron = ClausiusClapeyron(spectral_grid, atm, e₀=0.00001)
model = PrimitiveWetModel(spectral_grid; clausius_clapeyron)

Base.@kwdef struct inject &lt;: SpeedyWeather.AbstractCallback
    schedule::Schedule = Schedule(every=Hour(1))
end

function SpeedyWeather.initialize!(
    callback::inject,
    progn::PrognosticVariables,
    diagn::DiagnosticVariables,
    model::AbstractModel,
)
    initialize!(callback.schedule, progn.clock)
end

function SpeedyWeather.callback!(
    callback::inject,
    progn::PrognosticVariables,
    diagn::DiagnosticVariables,
    model::AbstractModel,
)
    isscheduled(callback.schedule, progn.clock) || return nothing

    set!(progn, model.geometry, humid=(λ, φ, σ) -&gt; 0.16)
    set!(progn, model.geometry, temp=(λ, φ, σ) -&gt; σ == 1 ? 305 : (σ &gt; 0.8 ? 305 - 10 * (1 - σ) : (σ &gt; 0.5 ? 290 + 5 * (1 - σ) : 250)))
	set!(progn, model.geometry, u=(λ, φ, σ) -&gt; -5.0)
	set!(progn, model.geometry, v=(λ, φ, σ) -&gt; 2.0)
    set!(progn, model.geometry, div=(λ, φ, σ) -&gt; σ &gt; 0.8 ? -0.005 : (σ &gt; 0.5 ? 0.0 : 0.005))
	set!(progn, model.geometry, pres=20)
end

SpeedyWeather.finalize!(::inject, args...) = nothing

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

add!(model, inject())

simulation = initialize!(model)

H, λ₀, φ₀, σ = 4000, 2, 51, 5
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))

set!(simulation, humid=0.16)
set!(simulation, pres=20)

run!(simulation, period=Day(20))

RainMaker.plot(rain_gauge)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr36"><span class="sgr1">[ Info: </span></span>Time step changed from 570297 to 540000 milliseconds (-5%) to match output frequency.
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Time step changed from 570297 to 540000 milliseconds (-5%) to match output frequency.
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Scheduler adjusted from every 1 hour to every 1 hour, 3 minutes to match timestep.</code></pre><p><img src="../submission_the_rapture.png" alt="submission: the_rapture"/></p><h2 id="Danny-Ash,-Jowan-Fromentin-Brain-Drain:-Rain-Rain-go-away"><a class="docs-heading-anchor" href="#Danny-Ash,-Jowan-Fromentin-Brain-Drain:-Rain-Rain-go-away">Danny Ash, Jowan Fromentin - Brain Drain: Rain Rain go away</a><a id="Danny-Ash,-Jowan-Fromentin-Brain-Drain:-Rain-Rain-go-away-1"></a><a class="docs-heading-anchor-permalink" href="#Danny-Ash,-Jowan-Fromentin-Brain-Drain:-Rain-Rain-go-away" title="Permalink"></a></h2><p>path: <code>/submissions/brain_drain.jl</code></p><p>rank: 2. of 16 submissions</p><pre><code class="language-julia hljs">mountain_positions_canada = [
    (-3.35, 58.67),
    (-4.87, 61.61),
    (-6.74, 64.60),
    (-9.12, 67.60),
    (-12.22, 70.58),
    (-16.39, 73.50),
    (-22.23, 76.30),
    (-30.76, 78.87),
    (-43.59, 81.04),
    (-62.35, 82.50)
]
author = &quot;Danny Ash, Jowan Fromentin - Brain Drain&quot;
description = &quot;Rain Rain go away&quot;

using SpeedyWeather, RainMaker
using CairoMakie

spectral_grid = SpectralGrid(trunc=31, nlayers=5)
time_stepping = Leapfrog(spectral_grid, Δt_at_T31=Minute(0.5))
# define aquaplanet
ocean = AquaPlanet(spectral_grid, temp_equator=200, temp_poles=305)
land_sea_mask = AquaPlanetMask(spectral_grid)
orography = NoOrography(spectral_grid)
model = PrimitiveWetModel(spectral_grid; ocean, land_sea_mask, orography, time_stepping=time_stepping)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
set!(simulation, humid=6, pres =15.1)

# build the wall
H, λ₀, φ₀, σ = 8000, 2, 51, 1     # height, lon, lat position, and width
H_c = 5000
set!(model, orography=(λ, φ) -&gt; begin
orography = 0.0
for (λ₀, φ₀) in mountain_positions_canada
    orography += H_c * exp(-spherical_distance((λ, φ), (λ₀, φ₀), radius=360/2π)^2 / 2σ^2)
end
orography
end, add=true)

set!(model, orography=(λ, φ) -&gt; begin
orography = 0.0
mountain_positions = [(0, 50), (1, 50), (2, 50), (0, 55), (1, 55), (2, 55), (0, 60), (1, 60)]
for (λ₀, φ₀) in mountain_positions
    orography += H * exp(-spherical_distance((λ, φ), (λ₀, φ₀), radius=360/2π)^2 / 2σ^2)
end
orography
end, add=true)




# dig the hole
H, λ₀, φ₀, σ = -6000, -1.25, 51.75, 100.5     # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp((-(λ-λ₀)^2 - (φ-φ₀)^2)/2σ^2), add=true)


run!(simulation, period=Day(20))
total_precip = maximum(rain_gauge.accumulated_rain_large_scale) + maximum(rain_gauge.accumulated_rain_convection)

println(total_precip)
RainMaker.plot(rain_gauge)

# heatmap(model.orography.orography)
# println(maximum(simulation.prognostic_variables.ocean.sea_surface_temperature))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>NaN or Inf detected at time step 5166
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ SpeedyWeather ~/.julia/packages/SpeedyWeather/pliqj/src/output/feedback.jl:144</span>
1.4835839e6</code></pre><p><img src="../submission_brain_drain.png" alt="submission: brain_drain"/></p><h2 id="Amy-and-breddy:-Reddy4rain"><a class="docs-heading-anchor" href="#Amy-and-breddy:-Reddy4rain">Amy and breddy: Reddy4rain</a><a id="Amy-and-breddy:-Reddy4rain-1"></a><a class="docs-heading-anchor-permalink" href="#Amy-and-breddy:-Reddy4rain" title="Permalink"></a></h2><p>path: <code>/submissions/reddy4rain.jl</code></p><p>rank: 3. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Amy and breddy&quot;
description = &quot;Reddy4rain&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=12, nlayers=3, Grid=FullGaussianGrid)  # default resolution
rain_gauge = RainGauge(spectral_grid, lond=358.75, latd=51.75)

model = PrimitiveWetModel(spectral_grid)

model.callbacks

simulation = initialize!(model, time=DateTime(2024, 10, 1))

# (; a, b) = struct unpacks the fields a, b in struct identified by name, equivalent to
# a = struct.a and b = struct.b
(; precip_large_scale, precip_convection) = simulation.diagnostic_variables.physics
total_precipitation = precip_large_scale + precip_convection
total_precipitation *= 1000# convert m to mm

# add two Gaussian mountains
λ1, λ2 = (320, 345)    # longitude positions [˚E]
φ₀ = 50                 # latitude [˚N]\
σ = 5                 # width [˚]
H = 7000

# first mountain, radius=360/2π to have distance in ˚ again (not meters)
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ1,φ₀), radius=360/2π)^2/2σ^2), add=true)

# and add second
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ2,φ₀), radius=360/2π)^2/2σ^2), add=true)

simulation.diagnostic_variables.physics.precip_large_scale .= 0
simulation.diagnostic_variables.physics.precip_convection .= 0

set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (30 &lt; φ &lt; 60) &amp;&amp; (300 &lt; λ &lt; 360) ? 2 : 0, add=true)

# add one rain gauge the measures the whole simulation
rain_gauge_from_beginning  = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge_from_beginning)

run!(simulation, period=Week(1))

# add one rain gauge the measures the whole simulation
rain_gauge_from_w2 = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge_from_w2)

run!(simulation, period=Week(2))

set!(simulation, humid=0.3, pres=15.1)

# add another rain gauge that only starts measuring
# after that week we already simulated
rain_gauge_after_spinup  = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge_after_spinup)
add!(model, rain_gauge)
run!(simulation, period=Day(20))

# now compare them, from the beginning
rain_gauge_from_beginning</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>NaN or Inf detected at time step 138
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ SpeedyWeather ~/.julia/packages/SpeedyWeather/pliqj/src/output/feedback.jl:144</span></code></pre><p><img src="../submission_reddy4rain.png" alt="submission: reddy4rain"/></p><h2 id="Isaac-Campbell:-Up-initial-humidity-and-lower-saturation-vapour-pressure."><a class="docs-heading-anchor" href="#Isaac-Campbell:-Up-initial-humidity-and-lower-saturation-vapour-pressure.">Isaac Campbell: Up initial humidity and lower saturation vapour pressure.</a><a id="Isaac-Campbell:-Up-initial-humidity-and-lower-saturation-vapour-pressure.-1"></a><a class="docs-heading-anchor-permalink" href="#Isaac-Campbell:-Up-initial-humidity-and-lower-saturation-vapour-pressure." title="Permalink"></a></h2><p>path: <code>/submissions/isaaccampbell.jl</code></p><p>rank: 4. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Isaac Campbell&quot;
description = &quot;Up initial humidity and lower saturation vapour pressure.&quot;

using SpeedyWeather, RainMaker

# Create grid
spectral_grid = SpectralGrid(trunc=31, nlayers=8)

# Alter the laws of physics... lower saturation vapour pressure to 50Pa
atm = EarthAtmosphere(spectral_grid)
clausius_clapeyron = ClausiusClapeyron(spectral_grid, atm, e₀=50)

model = PrimitiveWetModel(spectral_grid; clausius_clapeyron)

# add the rain gauge as callback
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

# run the simulation
simulation = initialize!(model, time=DateTime(2000, 8, 1))

# Increase initial humidity
set!(simulation, humid=0.177)
run!(simulation, period=Day(20))

# visualise
RainMaker.plot(rain_gauge)</code></pre><p><img src="../submission_isaaccampbell.png" alt="submission: isaaccampbell"/></p><h2 id="Alex-Dobra-and-Charlotte-Wargniez:-Aqua-planet,-change-humidity-to-ridiculous-number,-add-Shirin&#39;s-mountain,-make-it-cold"><a class="docs-heading-anchor" href="#Alex-Dobra-and-Charlotte-Wargniez:-Aqua-planet,-change-humidity-to-ridiculous-number,-add-Shirin&#39;s-mountain,-make-it-cold">Alex Dobra and Charlotte Wargniez: Aqua planet, change humidity to ridiculous number, add Shirin&#39;s mountain, make it cold</a><a id="Alex-Dobra-and-Charlotte-Wargniez:-Aqua-planet,-change-humidity-to-ridiculous-number,-add-Shirin&#39;s-mountain,-make-it-cold-1"></a><a class="docs-heading-anchor-permalink" href="#Alex-Dobra-and-Charlotte-Wargniez:-Aqua-planet,-change-humidity-to-ridiculous-number,-add-Shirin&#39;s-mountain,-make-it-cold" title="Permalink"></a></h2><p>path: <code>/submissions/ac_humid.jl</code></p><p>rank: 5. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Alex Dobra and Charlotte Wargniez&quot;
description = &quot;Aqua planet, change humidity to ridiculous number, add Shirin&#39;s mountain, make it cold&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=5)
model = PrimitiveWetModel(spectral_grid)

# Set up aqauaplanet but add large mountain in &quot;North Sea&quot; after initialization!
ocean = AquaPlanet(spectral_grid, temp_equator=305, temp_poles=305
)
land = ConstantLandTemperature(spectral_grid, temperature=275)
model = PrimitiveWetModel(spectral_grid; ocean, land)

# Add rain gauge
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

# Initialize and run simulation
simulation = initialize!(model, time=DateTime(2000, 6, 21))

# Add mountain now! details for mountain
H, λ₀, φ₀, σ = 5000, 2, 51, 3     # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))

# make mountain Land
set!(model, land_sea_mask=(λ, φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2), add=true)


# set humidity
set!(simulation, humid=9e-2,
# temp=275
)

# Run simulation for 20 days
run!(simulation, period=Day(20))

RainMaker.plot(rain_gauge, rate_Δt=Hour(1))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr33"><span class="sgr1">┌ Warning: </span></span>Land-sea mask was not set to values in [0, 1] but in [0.0, 4370.175]. Clamping.
<span class="sgr33"><span class="sgr1">└ </span></span><span class="sgr90">@ SpeedyWeather ~/.julia/packages/SpeedyWeather/pliqj/src/physics/land_sea_mask.jl:70</span></code></pre><p><img src="../submission_ac_humid.png" alt="submission: ac_humid"/></p><h2 id="Minqi:-humid-and-montain"><a class="docs-heading-anchor" href="#Minqi:-humid-and-montain">Minqi: humid &amp; montain</a><a id="Minqi:-humid-and-montain-1"></a><a class="docs-heading-anchor-permalink" href="#Minqi:-humid-and-montain" title="Permalink"></a></h2><p>path: <code>/submissions/minqi_submission.jl</code></p><p>rank: 6. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Minqi&quot;
description = &quot;humid &amp; montain&quot;

using SpeedyWeather, RainMaker
spectral_grid = SpectralGrid(trunc=25, nlayers=8)
time_stepping = Leapfrog(spectral_grid, Δt_at_T31=Minute(10))
model = PrimitiveWetModel(spectral_grid; time_stepping)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
set!(simulation, humid=0.185)
H, λ₀, φ₀, σ = 10000, 2, 51, 1
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))

run!(simulation, period=Day(20))</code></pre><p><img src="../submission_minqi_submission.png" alt="submission: minqi_submission"/></p><h2 id="Maren:-Hot-aqua-planet-with-SST-anomalie"><a class="docs-heading-anchor" href="#Maren:-Hot-aqua-planet-with-SST-anomalie">Maren: Hot aqua planet with SST anomalie</a><a id="Maren:-Hot-aqua-planet-with-SST-anomalie-1"></a><a class="docs-heading-anchor-permalink" href="#Maren:-Hot-aqua-planet-with-SST-anomalie" title="Permalink"></a></h2><p>path: <code>/submissions/maren.jl</code></p><p>rank: 7. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Maren&quot;
description = &quot;Hot aqua planet with SST anomalie&quot;

using SpeedyWeather, RainMaker
using CairoMakie

# create a model
spectral_grid = SpectralGrid(trunc=31, nlayers=8)
ocean = AquaPlanet(spectral_grid, temp_equator = 300.0, temp_poles= 300.0)
model = PrimitiveWetModel(spectral_grid; ocean)

# add the rain gauge as callback
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
set!(simulation, humid=0.18)
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (50 &lt; φ &lt; 53) &amp;&amp; (50 &lt; λ &lt; 60) ? 5 : 0, add=true)
run!(simulation, period=Day(20))</code></pre><p><img src="../submission_maren.png" alt="submission: maren"/></p><h2 id="George:-default"><a class="docs-heading-anchor" href="#George:-default">George: default</a><a id="George:-default-1"></a><a class="docs-heading-anchor-permalink" href="#George:-default" title="Permalink"></a></h2><p>path: <code>/submissions/grabin.jl</code></p><p>rank: 8. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;George&quot;

using SpeedyWeather, RainMaker

# create a model
spectral_grid = SpectralGrid(trunc=31, nlayers=8)
ocean = AquaPlanet(spectral_grid)
land = ConstantLandTemperature(spectral_grid)
model = PrimitiveWetModel(spectral_grid; ocean)

# add the rain gauge as callback
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

# run the simulation
simulation = initialize!(model, time=DateTime(2000, 10, 25))
simulation.prognostic_variables.clock

# CHANGING sea surface and land temperature
simulation = initialize!(model)
set!(model, land_sea_mask=0)    # all ocean
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (30 &lt; φ &lt; 60) &amp;&amp; (270 &lt; λ &lt; 360) ? 1 : 0, add=true)

simulation = initialize!(model)
set!(model, land_sea_mask=1)    # all land
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (0 &lt; φ &lt; 360) &amp;&amp; (270 &lt; λ &lt; 360) ? 10 : 0, add=true)

sst = simulation.prognostic_variables.ocean.sea_surface_temperature

# ADDING A mountain
H, λ₀, φmax = 2000, 15, 60

# set to a global constant
set!(model, orography=0)

# add two Gaussian mountains
λ1, λ2  = (120, 240)    # longitude positions [˚E]
φ₀ = 44                 # latitude [˚N]
σ = 7.4                  # width [˚]

# himalayan mountains lead to more rain than ones in eastern europe...

# first mountain, radius=360/2π to have distance in ˚ again (not meters)
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ1,φ₀), radius=360/2π)^2/2σ^2), add=true)

# and add second
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ2,φ₀), radius=360/2π)^2/2σ^2), add=true)
set!(simulation, humid=0.18)
run!(simulation, period=Day(20))</code></pre><p><img src="../submission_grabin.png" alt="submission: grabin"/></p><h2 id="Thomas-Stone:-Humid"><a class="docs-heading-anchor" href="#Thomas-Stone:-Humid">Thomas Stone: Humid</a><a id="Thomas-Stone:-Humid-1"></a><a class="docs-heading-anchor-permalink" href="#Thomas-Stone:-Humid" title="Permalink"></a></h2><p>path: <code>/submissions/thomas.jl</code></p><p>rank: 9. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Thomas Stone&quot;
description = &quot;Humid&quot;

using SpeedyWeather, RainMaker

# create a model
spectral_grid = SpectralGrid(trunc=31, nlayers=8)
ocean = AquaPlanet(spectral_grid)
model = PrimitiveWetModel(spectral_grid; ocean)

# add the rain gauge as callback
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

# run the simulation
simulation = initialize!(model, time=DateTime(2000,10,25))
simulation.prognostic_variables.clock

# add 2 K to N Atlantic
simulation = initialize!(model)
set!(model, land_sea_mask=0)    # all ocean!
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (30 &lt; φ &lt; 60) &amp;&amp; (270 &lt; λ &lt; 360) ? 10 : 0, add=true)


# set to a global constant
set!(model, orography=0)

# add two 2000m ridges at +-30˚E from 60˚S to 60˚N
H, λ₀, φmax = 20000, 15, 60

# add two Gaussian mountains
λ1, λ2  = (120, 240)    # longitude positions [˚E]
φ₀ = 44                 #latitude
σ = 7.4               # width [˚]

# first mountain, radius=360/2π to have distance in ˚ again (not meters)
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ1,φ₀), radius=360/2π)^2/2σ^2), add=true)

# and add second
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ2,φ₀), radius=360/2π)^2/2σ^2), add=true)

set!(simulation, humid=0.18)
run!(simulation, period=Day(20))


# visualise
RainMaker.plot(rain_gauge)</code></pre><p><img src="../submission_thomas.png" alt="submission: thomas"/></p><h2 id="Bradley-and-Lukas:-big-humid"><a class="docs-heading-anchor" href="#Bradley-and-Lukas:-big-humid">Bradley and Lukas: big humid</a><a id="Bradley-and-Lukas:-big-humid-1"></a><a class="docs-heading-anchor-permalink" href="#Bradley-and-Lukas:-big-humid" title="Permalink"></a></h2><p>path: <code>/submissions/big_humid.jl</code></p><p>rank: 10. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Bradley and Lukas&quot;
description = &quot;big humid&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=60, nlayers=8) #60

ocean = AquaPlanet(spectral_grid, temp_equator=302, temp_poles=300)
model = PrimitiveWetModel(spectral_grid; ocean=ocean)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)


H, λ₀, φ₀, σ = 4000, 2, 51, 5    # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))


set!(simulation, humid=0.12)

run!(simulation, period=Day(20))</code></pre><p><img src="../submission_big_humid.png" alt="submission: big_humid"/></p><h2 id="Jordan:-Up-initial-humidity-and-lower-saturation-vapour-pressure."><a class="docs-heading-anchor" href="#Jordan:-Up-initial-humidity-and-lower-saturation-vapour-pressure.">Jordan: Up initial humidity and lower saturation vapour pressure.</a><a id="Jordan:-Up-initial-humidity-and-lower-saturation-vapour-pressure.-1"></a><a class="docs-heading-anchor-permalink" href="#Jordan:-Up-initial-humidity-and-lower-saturation-vapour-pressure." title="Permalink"></a></h2><p>path: <code>/submissions/jordan.jl</code></p><p>rank: 11. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Jordan&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=8)

ocean = AquaPlanet(spectral_grid, temp_equator=302, temp_poles=301)
land = ConstantLandTemperature(spectral_grid)

model = PrimitiveWetModel(spectral_grid; ocean, land)

# add the rain gauge as callback
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
set!(model, land_sea_mask=0)    # all ocean!
set!(simulation, sea_surface_temperature=(λ, φ) -&gt; (10 &lt; φ &lt; 20) &amp;&amp; (52 &lt; λ &lt; 58) ? 3 : 0.5, add=true)

# set to a global constant
set!(model, orography=0)

H, λ₀, φmax = 10000, 15, 60

# add two Gaussian mountains
λ1, λ2  = (120, 240)    # longitude positions [˚E]
φ₀ = 45                 # latitude [˚N]
σ = 5                   # width [˚]

# first mountain, radius=360/2π to have distance in ˚ again (not meters)
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ1,φ₀), radius=360/2π)^2/2σ^2), add=true)

set!(simulation, humid=0.15)

run!(simulation, period=Day(20))</code></pre><p><img src="../submission_jordan.png" alt="submission: jordan"/></p><h2 id="Shirin-Ermis:-Aqua-planet-simulation-with-a-mountain"><a class="docs-heading-anchor" href="#Shirin-Ermis:-Aqua-planet-simulation-with-a-mountain">Shirin Ermis: Aqua-planet simulation with a mountain</a><a id="Shirin-Ermis:-Aqua-planet-simulation-with-a-mountain-1"></a><a class="docs-heading-anchor-permalink" href="#Shirin-Ermis:-Aqua-planet-simulation-with-a-mountain" title="Permalink"></a></h2><p>path: <code>/submissions/aquaplanet_mountain.jl</code></p><p>rank: 12. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Shirin Ermis&quot;
description = &quot;Aqua-planet simulation with a mountain&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=10)
model = PrimitiveWetModel(spectral_grid)

# Set up aqauaplanet but add large mountain in &quot;North Sea&quot; after initialization!
ocean = AquaPlanet(spectral_grid, temp_equator=302, temp_poles=300)
land_sea_mask = AquaPlanetMask(spectral_grid)
model = PrimitiveWetModel(spectral_grid; ocean, land_sea_mask)

# Add rain gauge
rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

# Initialize and run simulation
simulation = initialize!(model, time=DateTime(2000, 9, 1))

# Add mountain now! details for mountain
H, λ₀, φ₀, σ = 4000, 2, 51, 5     # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))

# Run simulation for 20 days
run!(simulation, period=Day(20))

# Plot the results (not needed for submission but doesn&#39;t hurt!)
using CairoMakie
# heatmap(model.orography.orography, title=&quot;My orogoraphy [m]&quot;) # check orography
RainMaker.plot(rain_gauge, rate_Δt=Hour(1))</code></pre><p><img src="../submission_aquaplanet_mountain.png" alt="submission: aquaplanet_mountain"/></p><h2 id="Tim-Reichelt:-North-Sea-mountain"><a class="docs-heading-anchor" href="#Tim-Reichelt:-North-Sea-mountain">Tim Reichelt: North Sea mountain</a><a id="Tim-Reichelt:-North-Sea-mountain-1"></a><a class="docs-heading-anchor-permalink" href="#Tim-Reichelt:-North-Sea-mountain" title="Permalink"></a></h2><p>path: <code>/submissions/north_sea_mountain.jl</code></p><p>rank: 13. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Tim Reichelt&quot;
description = &quot;North Sea mountain&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=8)
model = PrimitiveWetModel(spectral_grid)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)

# add a massive mountain at 51.75°N, 0°W, *after* model initialization
# using spherical_distance for geodesic distances, use radius=360/2π for distance in degrees
H, λ₀, φ₀, σ = 4000, 2, 51, 5     # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp(-spherical_distance((λ,φ), (λ₀,φ₀), radius=360/2π)^2/2σ^2))

run!(simulation, period=Day(20))</code></pre><p><img src="../submission_north_sea_mountain.png" alt="submission: north_sea_mountain"/></p><h2 id="Milan:-default"><a class="docs-heading-anchor" href="#Milan:-default">Milan: default</a><a id="Milan:-default-1"></a><a class="docs-heading-anchor-permalink" href="#Milan:-default" title="Permalink"></a></h2><p>path: <code>/submissions/default.jl</code></p><p>rank: 14. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Milan&quot;
description = &quot;default&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=8)
model = PrimitiveWetModel(spectral_grid)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
run!(simulation, period=Day(20))</code></pre><p><img src="../submission_default.png" alt="submission: default"/></p><h2 id="Milan:-Aquaplanet"><a class="docs-heading-anchor" href="#Milan:-Aquaplanet">Milan: Aquaplanet</a><a id="Milan:-Aquaplanet-1"></a><a class="docs-heading-anchor-permalink" href="#Milan:-Aquaplanet" title="Permalink"></a></h2><p>path: <code>/submissions/aquaplanet.jl</code></p><p>rank: 15. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Milan&quot;
description = &quot;Aquaplanet&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=8)

# define aquaplanet
ocean = AquaPlanet(spectral_grid, temp_equator=302, temp_poles=273)
land_sea_mask = AquaPlanetMask(spectral_grid)
orography = NoOrography(spectral_grid)
model = PrimitiveWetModel(spectral_grid; ocean, land_sea_mask, orography)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)
run!(simulation, period=Day(20))</code></pre><p><img src="../submission_aquaplanet.png" alt="submission: aquaplanet"/></p><h2 id="Milan:-Atlantic-mountain"><a class="docs-heading-anchor" href="#Milan:-Atlantic-mountain">Milan: Atlantic mountain</a><a id="Milan:-Atlantic-mountain-1"></a><a class="docs-heading-anchor-permalink" href="#Milan:-Atlantic-mountain" title="Permalink"></a></h2><p>path: <code>/submissions/atlantic_mountain.jl</code></p><p>rank: 16. of 16 submissions</p><pre><code class="language-julia hljs">author = &quot;Milan&quot;
description = &quot;Atlantic mountain&quot;

using SpeedyWeather, RainMaker

spectral_grid = SpectralGrid(trunc=31, nlayers=8)
model = PrimitiveWetModel(spectral_grid)

rain_gauge = RainGauge(spectral_grid, lond=-1.25, latd=51.75)
add!(model, rain_gauge)

simulation = initialize!(model)

# add a massive mountain at 50°N, 35°W, *after* model initialization
H, λ₀, φ₀, σ = 4000, 325, 50, 5     # height, lon, lat position, and width
set!(model, orography=(λ,φ) -&gt; H*exp((-(λ-λ₀)^2 - (φ-φ₀)^2)/2σ^2), add=true)

run!(simulation, period=Day(20))</code></pre><p><img src="../submission_atlantic_mountain.png" alt="submission: atlantic_mountain"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../leaderboard/">« Leaderboard</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 11 December 2024 12:17">Wednesday 11 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
